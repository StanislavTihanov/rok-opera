"use strict";window.addEventListener("scroll",()=>{pageYOffset>50?document.querySelector(".header").classList.add("bg_active"):document.querySelector(".header").classList.remove("bg_active")});const burgerMenu=document.querySelector(".header__burger-wrapper"),menuBody=document.querySelector(".menu");burgerMenu&&burgerMenu.addEventListener("click",function(e){burgerMenu.classList.toggle("_active"),menuBody.classList.toggle("_active")}),document.addEventListener("click",e=>{burgerMenu.contains(e.target)||(menuBody.classList.remove("_active"),burgerMenu.classList.remove("_active"))});let buttons=document.querySelectorAll(".menu__link");buttons.forEach(e=>{e.addEventListener("click",()=>{menuBody.classList.remove("_active"),burgerMenu.classList.remove("_active")})});const menuLinks=document.querySelectorAll(".menu__link[data-goto]");if(menuLinks.length>0){menuLinks.forEach(t=>{t.addEventListener("click",e)});function e(e){let t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){let n=document.querySelector(t.dataset.goto),o=n.getBoundingClientRect().top+scrollY-document.querySelector("header").offsetHeight;window.scrollTo({top:o,behavior:"smooth"}),e.preventDefault()}}}const slider=new Swiper(".slider",{direction:"horizontal",loop:!0,slidesPerView:1,spaceBetween:20,speed:2e3,centeredSlides:!0,autoplay:!0}),imagesSlider=new Swiper(".images-slider",{direction:"horizontal",loop:!0,slidesPerView:2,speed:2e3,autoplay:!0});document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("form");e&&e.addEventListener("submit",function(t){t.preventDefault();let n=e.querySelectorAll(".error-message");n.forEach(function(e){e.textContent=""});let o=e.querySelectorAll("input");o.forEach(function(e){e.classList.remove("input-error")});let l=document.getElementById("myButton");l&&l.classList.remove("dropdown__button-error");let i=!1,r=e.querySelector('input[name="select-category"]');if(r&&""===r.value){let s=r.nextElementSibling;s&&(s.textContent="Выберите тип работы*"),l&&l.classList.add("dropdown__button-error"),i=!0}let c=e.querySelector('input[name="subject"]');if(c&&""===c.value.trim()){let d=c.nextElementSibling;d&&(d.textContent="Введите предмет*"),c.classList.add("input-error"),i=!0}let a=e.querySelector('input[name="date"]');if(a&&""===a.value.trim()){let u=a.nextElementSibling;u&&(u.textContent="Выберите дату срока сдачи*"),a.classList.add("input-error"),i=!0}let p=e.querySelector('input[name="email"]');if(p&&!/^[^ ]+@[^ ]+\.[a-z]{2,3}$/.test(p.value.trim())){let g=p.nextElementSibling;g&&(g.textContent="Неверный формат эл. почты*"),p.classList.add("input-error"),i=!0}let f=e.querySelector('input[name="coding-notes"]');if(f&&!f.checked){let m=f.nextElementSibling?.nextElementSibling;m&&(m.textContent="Дайте согласие*"),f.classList.add("input-error"),i=!0}if(!i){let y=document.getElementById("popup-form"),v=document.getElementById("popup");e.reset(),l&&(l.textContent="Тип работы"),y&&(y.classList.add("open"),v.classList.remove("open"))}})}),document.querySelectorAll(".dropdown").forEach(function(e){let t=e.querySelector(".dropdown__button"),n=e.querySelector(".dropdown__list"),o=n.querySelectorAll(".dropdown__list-item"),l=e.querySelector(".dropdown__input-hidden");t.addEventListener("click",function(){n.classList.toggle("dropdown__list--active"),this.classList.add("dropdown__button--active")}),o.forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),t.innerText=this.innerText,t.focus(),l.value=this.dataset.value,n.classList.remove("dropdown__list--active")})}),document.addEventListener("click",function(e){e.target!==t&&(n.classList.remove("dropdown__list--active"),t.classList.remove("dropdown__button--active"))}),document.addEventListener("keydown",function(e){("Tab"===e.key||"Escape"===e.key)&&(n.classList.remove("dropdown__list--active"),t.classList.remove("dropdown__button--active"))})});const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=800;if(popupLinks.length>0)for(let index=0;index<popupLinks.length;index++){let t=popupLinks[index];t.addEventListener("click",function(e){let n=t.getAttribute("href").replace("#",""),o=document.getElementById(n);popupOpen(o),e.preventDefault()})}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let index=0;index<popupCloseIcon.length;index++){let n=popupCloseIcon[index];n.addEventListener("click",function(e){popupClose(n.closest(".popup")),e.preventDefault()})}function popupOpen(e){if(e&&unlock){let t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))})}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnlock())}function bodyLock(){let e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){let n=lockPadding[t];n.style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout(function(){unlock=!0},800)}function bodyUnlock(){setTimeout(function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){let t=lockPadding[e];t.style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")},800),unlock=!1,setTimeout(function(){unlock=!0},800)}document.addEventListener("keydown",function(e){if(27===e.which){let t=document.querySelector(".popup.open");popupClose(t)}});const animItems=document.querySelectorAll("._anim-items");if(animItems.length>0){function o(){for(let e=0;e<animItems.length;e++){let t=animItems[e],n=t.offsetHeight,o=l(t).top,i=window.innerHeight-n/10;n>window.innerHeight&&(i=window.innerHeight-window.innerHeight/10),pageYOffset>o-i&&pageYOffset<o+n&&t.classList.add("_action")}}function l(e){let t=e.getBoundingClientRect(),n=(window.pageXOffset||document.documentElement.scrollLeft,window.pageYOffset||document.documentElement.scrollTop);return{top:t.top+n,left:t.left+screenLeft}}window.addEventListener("scroll",o),o()}Fancybox.bind("[data-fancybox]",{clickOutside:"close"});